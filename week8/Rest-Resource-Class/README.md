TODO:

1. init.js with chain promises
2. optimize